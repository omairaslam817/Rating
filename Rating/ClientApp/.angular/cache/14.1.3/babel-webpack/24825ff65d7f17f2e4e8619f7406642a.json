{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { select } from '@ngrx/store';\nimport { selectRatings } from '../store/rating.selector';\nimport { invokeRatingAPI } from '../store/rating.action';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../service/service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ngrx/store\";\nimport * as i5 from \"@angular/common\";\n\nfunction RatingComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8)(3, \"h5\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"ul\", 10)(6, \"li\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"li\", 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const rating_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Comment:\", rating_r1.comment, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Rating : \", rating_r1.rating, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Comment:\", rating_r1.comment, \"\");\n  }\n}\n\nexport class RatingComponent {\n  constructor(fb, ratingService, router, store) {\n    this.fb = fb;\n    this.ratingService = ratingService;\n    this.router = router;\n    this.store = store;\n    this.submitted = false;\n    this.ratings$ = this.store.pipe(select(selectRatings));\n    this.form = this.fb.group({\n      rating: ['', Validators.required],\n      comment: ['', Validators.pattern('^[a-zA-Z ]*$')]\n    });\n  }\n\n  get comment() {\n    return this.form.get('comment');\n  }\n\n  get ratingform() {\n    return this.form.controls;\n  }\n\n  ngOnInit() {\n    this.store.dispatch(invokeRatingAPI());\n  }\n\n  onFormSubmit(form) {\n    this.submitted = true;\n    const rating = this.form.value;\n    this.saveRating(rating);\n  }\n\n  saveRating(rating) {\n    this.ratingService.saveData(rating).subscribe(() => {\n      alert(\"data saved\");\n      this.router.navigate(['/']);\n    });\n  }\n\n}\n\nRatingComponent.ɵfac = function RatingComponent_Factory(t) {\n  return new (t || RatingComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ServiceService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.Store));\n};\n\nRatingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RatingComponent,\n  selectors: [[\"app-rating\"]],\n  decls: 8,\n  vars: 3,\n  consts: [[1, \"my-4\", \"row\", \"text-center\"], [1, \"col\", \"col-md-4\", \"offset-md-4\"], [\"routerLink\", \"/add-rating\", 1, \"btn\", \"btn-dark\"], [1, \"container\", \"mt-2\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-3\", \"g-4\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [1, \"card\"], [1, \"card-body\", \"bg-danger\"], [1, \"card-title\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"]],\n  template: function RatingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \"Add rating\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4);\n      i0.ɵɵtemplate(6, RatingComponent_div_6_Template, 10, 3, \"div\", 5);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 1, ctx.ratings$));\n    }\n  },\n  dependencies: [i5.NgForOf, i3.RouterLinkWithHref, i5.AsyncPipe],\n  styles: [\"ngx-star-rating label.star[_ngcontent-ng-cli-universal-c48] {\\n  padding: 10px;\\n  font-size: 29px;\\n  color: #585ea9;\\n  transition: all 0.5s;\\n}\\n  ngx-star-rating input.star:checked ~ label.star:before {\\n  color: rgb(194, 43, 199) !important;\\n}\\n  ngx-star-rating .ng-invalid:not(form) {\\n  border: 2px solid red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhdGluZy5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXENJVFklMjBDT01QVVRFUlNcXHNvdXJjZVxccmVwb3NcXFJhdGluZ1xcUmF0aW5nXFxDbGllbnRBcHBcXHNyY1xcYXBwXFxyYXRpbmdcXHJhdGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLG9CQUFBO0FDREo7QURHQTtFQUNJLG1DQUFBO0FDREo7QURHRTtFQUNFLHFCQUFBO0FDREoiLCJmaWxlIjoicmF0aW5nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOjpuZy1kZWVwIG5neC1zdGFyLXJhdGluZ3tcclxuXHJcbmxhYmVsLnN0YXJbX25nY29udGVudC1uZy1jbGktdW5pdmVyc2FsLWM0OF0ge1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtc2l6ZTogMjlweDtcclxuICAgIGNvbG9yOiAjNTg1ZWE5O1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIC41cztcclxufVxyXG5pbnB1dC5zdGFyOmNoZWNrZWQgfiBsYWJlbC5zdGFyOmJlZm9yZSB7XHJcbiAgICBjb2xvcjogcmdiKDE5NCwgNDMsIDE5OSkgIWltcG9ydGFudDtcclxuICB9XHJcbiAgLm5nLWludmFsaWQ6bm90KGZvcm0pICB7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZWQgLyogcmVkICovXHJcbiAgfVxyXG59IiwiOjpuZy1kZWVwIG5neC1zdGFyLXJhdGluZyBsYWJlbC5zdGFyW19uZ2NvbnRlbnQtbmctY2xpLXVuaXZlcnNhbC1jNDhdIHtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAyOXB4O1xuICBjb2xvcjogIzU4NWVhOTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XG59XG46Om5nLWRlZXAgbmd4LXN0YXItcmF0aW5nIGlucHV0LnN0YXI6Y2hlY2tlZCB+IGxhYmVsLnN0YXI6YmVmb3JlIHtcbiAgY29sb3I6IHJnYigxOTQsIDQzLCAxOTkpICFpbXBvcnRhbnQ7XG59XG46Om5nLWRlZXAgbmd4LXN0YXItcmF0aW5nIC5uZy1pbnZhbGlkOm5vdChmb3JtKSB7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAjC,QAAmD,gBAAnD;AAEA,SAASC,MAAT,QAA8B,aAA9B;AAGA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,eAAT,QAAgC,wBAAhC;;;;;;;;;;ICCUC,+BAAyD,CAAzD,EAAyD,KAAzD,EAAyD,CAAzD,EAAyD,CAAzD,EAAyD,KAAzD,EAAyD,CAAzD,EAAyD,CAAzD,EAAyD,IAAzD,EAAyD,CAAzD;IAG6BA;IAA4BA;IAErDA,+BAAwC,CAAxC,EAAwC,IAAxC,EAAwC,EAAxC;IAC8BA;IAA4BA;IACxDA;IAA4BA;IAA4BA;;;;;IAJjCA;IAAAA;IAGKA;IAAAA;IACAA;IAAAA;;;;ADD5C,OAAM,MAAOC,eAAP,CAAsB;EAO1BC,YAAoBC,EAApB,EACUC,aADV,EAEYC,MAFZ,EAGUC,KAHV,EAGqB;IAHD;IACV;IACE;IACF;IAPV,iBAAY,KAAZ;IAaF,gBAAW,KAAKA,KAAL,CAAWC,IAAX,CAAgBV,MAAM,CAACC,aAAD,CAAtB,CAAX;IALI,KAAKU,IAAL,GAAY,KAAKL,EAAL,CAAQM,KAAR,CAAc;MACxBC,MAAM,EAAE,CAAC,EAAD,EAAKd,UAAU,CAACe,QAAhB,CADgB;MAExBC,OAAO,EAAE,CAAC,EAAD,EAAKhB,UAAU,CAACiB,OAAX,CAAmB,cAAnB,CAAL;IAFe,CAAd,CAAZ;EAID;;EAXU,IAAPD,OAAO;IAAK,OAAO,KAAKJ,IAAL,CAAUM,GAAV,CAAc,SAAd,CAAP;EAAkC;;EACpC,IAAVC,UAAU;IAAK,OAAO,KAAKP,IAAL,CAAUQ,QAAjB;EAA4B;;EAa/CC,QAAQ;IACN,KAAKX,KAAL,CAAWY,QAAX,CAAoBnB,eAAe,EAAnC;EACD;;EAEDoB,YAAY,CAACX,IAAD,EAAgB;IAC1B,KAAKY,SAAL,GAAiB,IAAjB;IACA,MAAMV,MAAM,GAAG,KAAKF,IAAL,CAAUa,KAAzB;IACA,KAAKC,UAAL,CAAgBZ,MAAhB;EACD;;EAEDY,UAAU,CAACZ,MAAD,EAAe;IACvB,KAAKN,aAAL,CAAmBmB,QAAnB,CAA4Bb,MAA5B,EAAoCc,SAApC,CACE,MAAK;MACHC,KAAK,CAAC,YAAD,CAAL;MACA,KAAKpB,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,GAAD,CAArB;IACD,CAJH;EAKD;;AAlCyB;;;mBAAfzB,iBAAeD;AAAA;;;QAAfC;EAAe0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbtB/B,+BAAmC,CAAnC,EAAmC,KAAnC,EAAmC,CAAnC,EAAmC,CAAnC,EAAmC,GAAnC,EAAmC,CAAnC;MAEmDA;MAAUA;MAG7DA,+BAA4B,CAA5B,EAA4B,KAA5B,EAA4B,CAA5B;MAEIA;;MAWFA;;;;MAXsCA;MAAAA","names":["Validators","select","selectRatings","invokeRatingAPI","i0","RatingComponent","constructor","fb","ratingService","router","store","pipe","form","group","rating","required","comment","pattern","get","ratingform","controls","ngOnInit","dispatch","onFormSubmit","submitted","value","saveRating","saveData","subscribe","alert","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\CITY COMPUTERS\\source\\repos\\Rating\\Rating\\ClientApp\\src\\app\\rating\\rating.component.ts","C:\\Users\\CITY COMPUTERS\\source\\repos\\Rating\\Rating\\ClientApp\\src\\app\\rating\\rating.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { select, Store } from '@ngrx/store';\nimport { ServiceService } from '../service/service.service';\nimport { Rating } from './rating';\nimport { selectRatings } from '../store/rating.selector';\nimport { invokeRatingAPI } from '../store/rating.action';\n\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss']\n})\nexport class RatingComponent implements OnInit {\n\n  public form: FormGroup;\n  submitted = false;\n  get comment() { return this.form.get('comment'); }\n  get ratingform() { return this.form.controls; }\n\n  constructor(private fb: FormBuilder,\n    private ratingService: ServiceService\n    , private router: Router,\n    private store:Store) {\n    this.form = this.fb.group({\n      rating: ['', Validators.required],\n      comment: ['', Validators.pattern('^[a-zA-Z ]*$')]\n    });\n  }\nratings$ = this.store.pipe(select(selectRatings))\n\n  ngOnInit(): void {\n    this.store.dispatch(invokeRatingAPI())\n  }\n\n  onFormSubmit(form: FormGroup) {\n    this.submitted = true;\n    const rating = this.form.value;\n    this.saveRating(rating);\n  }\n\n  saveRating(rating: Rating) {\n    this.ratingService.saveData(rating).subscribe(\n      () => {\n        alert(\"data saved\");\n        this.router.navigate(['/']);\n      })\n  }\n\n}\n","\n      <div class=\" my-4 row text-center\">\n        <div class=\"col col-md-4 offset-md-4\">\n        <a routerLink=\"/add-rating\" class=\"btn btn-dark\">Add rating</a>\n        </div>\n      </div>\n      <div class=\"container mt-2\">\n        <div class=\"row row-cols-1 row-cols-md-3 g-4\">\n          <div class=\"col\" *ngFor=\"let rating of ratings$ | async\">\n            <div class=\"card\">\n              <div class=\"card-body bg-danger\">\n                <h5 class=\"card-title\">Comment:{{ rating.comment }}</h5>\n              </div>\n              <ul class=\"list-group list-group-flush\">\n                <li class=\"list-group-item\">Rating : {{ rating.rating }}</li>\n                <li class=\"list-group-item\">Comment:{{ rating.comment }}</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>"]},"metadata":{},"sourceType":"module"}